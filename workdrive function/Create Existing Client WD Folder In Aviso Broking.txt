iterationString = ",,,,,,,,,";
loops = iterationString.toList();
page = 0;
offset = 0;
moreRecords = 1;
for each  el in loops
{
	if(moreRecords == 1)
	{
		queryMap1 = Map();
		queryMap1.put("select_query","select Account_Name,Created_Time from Accounts where (zohoworkdriveforcrm__Workdrive_Folder_ID is  null) LIMIT " + offset + ", 200");
		response1 = invokeurl
		[
			url :"https://www.zohoapis.com.au/crm/v3/coql"
			type :POST
			parameters:queryMap1.toString()
			connection:"avisio_broking_current_policies"
		];
		records = ifNull(response1.get("data"),null);
		info records;
		if(records.size() >= 1)
		{
			for each  recordInfo in records
			{
				ClientId = recordInfo.get("id");
				Name = recordInfo.get("Account_Name");
				Created_Year = "2023";
				//info clients;
				Account_Folder = zoho.workdrive.createFolder(Name,"toudsb0c53023626441fb8c15b1091c0aabb8","workdrive");
				Account_Folder_Parent_Id = Account_Folder.get("data").get("id");
				param = Map();
				param.put("zohoworkdriveforcrm__Workdrive_Folder_ID",Account_Folder_Parent_Id);
				Res = zoho.crm.updateRecord("Accounts",ClientId,param);
				param1 = Map();
				param1.put("zohoworkdriveforcrm__Workdrive_Folder_URL","https://workdrive.zoho.com.au/folder/" + Account_Folder_Parent_Id);
				Res = zoho.crm.updateRecord("Accounts",ClientId,param1);
				correspondence_folder = zoho.workdrive.createFolder("Correspondence",Account_Folder_Parent_Id,"workdrive");
				correspondence_folder_Id = correspondence_folder.get("data").get("id");
				Year_Folder1 = zoho.workdrive.createFolder(Created_Year,correspondence_folder_Id,"workdrive");
				policies_folder = zoho.workdrive.createFolder("Policies",Account_Folder_Parent_Id,"workdrive");
				policies_folder_Id = policies_folder.get("data").get("id");
				Year_Folder2 = zoho.workdrive.createFolder(Created_Year,policies_folder_Id,"workdrive");
				claims_folder = zoho.workdrive.createFolder("Claims",Account_Folder_Parent_Id,"workdrive");
				claims_folder_Id = claims_folder.get("data").get("id");
				Year_Folder3 = zoho.workdrive.createFolder(Created_Year,claims_folder_Id,"workdrive");
			}
		}
		else
		{
			moreRecords = 0;
		}
	}
	page = page + 1;
	offset = offset + 200;
}